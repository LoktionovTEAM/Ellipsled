/**
 * @author JS by LoktionovTEAM
 * @license Copyright (c) 2021-2022
 */
!function(a){"use strict";a(".navmenu__link").click((function(){var e=a(this).attr("href");a("html, body").animate({scrollTop:a(e).offset().top-100},1e3),a(".navmenu__link").removeClass("active"),a(this).addClass("active"),a(".burger,.burger-menu,.navmenu").removeClass("active"),a("html").removeClass("lock")})),window.addEventListener("resize",(()=>{a(".burger,.burger-menu,.navmenu").removeClass("active"),a("html").removeClass("lock")})),a(document).ready((function(){const a=document.querySelectorAll("section");let e=new IntersectionObserver((function(a,e){a.forEach((a=>{a.isIntersecting&&function(a){const e=a.target.id,t=document.querySelector("nav li a.active"),n=document.querySelector('nav li a[href="#'+e+'"]');t&&t.classList.remove("active"),n&&n.classList.add("active")}(a)}))}),{rootMargin:"-83px 0px -55% 0px"});a.forEach((a=>{e.observe(a)}))})),a(document).ready((function(){a(".burger-menu").click((function(e){a(".burger-menu,.navmenu").toggleClass("active"),a("html").addClass("lock")}))}));var e=a("#header");a(".waypoint").each((function(t){var n=a(this),i=n.data("animateDown"),r=n.data("animateUp");n.waypoint((function(a){"down"===a&&i?e.attr("class","header "+i):"up"===a&&r&&e.attr("class","header "+r)}),{offset:"40%"})}));var t=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,scrollContainer:null});t.init(),WOW.prototype.addBox=function(a){this.boxes.push(a)},a(".wow").on("scrollSpy:exit",(function(){a(this).css({visibility:"hidden","animation-name":"none"}).removeClass("animated"),t.addBox(this)})).scrollSpy(),a(document).ready((function(){a("input[name='phone']").inputmask({mask:"+7 (999) 999-99-99",clearIncomplete:!0,showMaskOnHover:!1}),a("input[name='name']").inputmask({mask:"Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",placeholder:""});let e=a("input[name='email']"),t=e[0].selectionStart,n=e.val();e.inputmask({mask:"*{1,50}[.*{1,50}][.*{1,50}]@*{1,50}.*{1,20}[.*{1,20}][.*{1,20}]",greedy:!1,clearIncomplete:!0,showMaskOnHover:!1,definitions:{"*":{validator:"[^_@.]"}}}).on("keyup paste",(function(){this.value&&/[^_a-zA-Z0-9@\-.]/i.test(this.value)?(this.value=n,this.setSelectionRange(t,t),e.trigger("input")):(t=this.selectionStart,n=this.value)})),a("input[name='subject']").inputmask({mask:"Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",placeholder:""}),a("input[name='message']").inputmask({mask:"Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",placeholder:""})})),a("#home__form-callback").validate({rules:{phone:{required:!0}},messages:{phone:{required:"*Введите действительный номер телефона"}},submitHandler:function(){a("#home-message__verified").show(),a("#home__form-callback input").attr("disabled",!0),a("#home__form-callback__btn").addClass("disabled"),a("#home__form-callback__btn").attr("disabled",!0)}}),a("#learn__form-callback").validate({rules:{phone:{required:!0}},messages:{phone:{required:"*Введите действительный номер телефона"}},submitHandler:function(){a("#learn-message__verified").show(),a("#learn__form-callback input").attr("disabled",!0),a("#learn__form-callback__btn").addClass("disabled"),a("#learn__form-callback__btn").attr("disabled",!0)}}),a("#form-feedback").validate({rules:{name:{required:!0,minlength:2},email:{required:!0,email:!0},subject:{required:!1},message:{required:!0,minlength:20}},messages:{name:{required:"*Пожалуйста, введите ваше имя",minlength:jQuery.validator.format("*Пожалуйста, введите не менее {0} символов!")},email:{required:"*Пожалуйста, введите действительный адрес электронной почты.",email:"*Обратите внимание, адрес электронной почты должен быть следующего формата: name@domain.com"},message:{required:"*Пожалуйста, заполните это поле сообщением",minlength:jQuery.validator.format("*Пожалуйста, введите не менее {0} символов!")}},submitHandler:function(){a("#write-message__verified").show(),a("#form-feedback input").attr("disabled",!0),a("#form-feedback textarea").attr("disabled",!0),a(".form-feedback__btn").attr("disabled",!0),a(".form-feedback__btn").addClass("disabled")}}),a(document).ready((function(){a(".gallery-box").each((function(){a(this).justifiedGallery({rowHeight:242,lastRow:"nojustify",margins:3,selector:"figure, div:not(.spinner)",captions:!1})}))})),a((function(){let e=a(".feature-table");a(e).scroll((function(){let t=a(e)[0].scrollHeight,n=e.height(),i=a(e)[0].scrollWidth,r=a(e).outerWidth();a(this).scrollTop()>=t-n?a(".feature-table-box").addClass("table-width-end"):a(".feature-table-box").removeClass("table-width-end"),a(this).scrollLeft()>=i-r?a(".feature-table-box").addClass("table-height-end"):a(".feature-table-box").removeClass("table-height-end")})),a(".table-arrow-down").on("click",(function(){a(".feature-table").animate({scrollTop:a(".feature-table")[0].scrollHeight},5e3)})),a(".table-arrow-right").on("click",(function(){a(".feature-table").animate({scrollLeft:a(".feature-table")[0].scrollWidth},3e3)}))}))}(jQuery);